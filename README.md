# لوحة مصروفات ومبيعات مطعم سيخ وشيش

نظام إدارة شامل للمصروفات والمبيعات مع لوحة تحكم تفاعلية ومؤشرات أداء في الوقت الفعلي.

## المميزات الرئيسية

- **إدارة المصروفات والمبيعات**: إضافة وتعديل وحذف المصروفات والمبيعات مع تفاصيل شاملة
- **مؤشرات الأداء الرئيسية (KPIs)**: عرض الإجماليات الشهرية وصافي الربح في الوقت الفعلي
- **المخططات التفاعلية**: رسوم بيانية لتتبع الاتجاهات الشهرية والمقارنات
- **الاستيراد والتصدير**: دعم كامل لملفات CSV و JSON مع التحقق من الصحة
- **المصادقة الآمنة**: نظام تسجيل دخول باستخدام Supabase Auth
- **التصميم المتجاوب**: يعمل بسلاسة على جميع الأجهزة

## التقنيات المستخدمة

- **الواجهة الأمامية**: HTML5, CSS3, JavaScript (Vanilla)
- **قاعدة البيانات**: Supabase (PostgreSQL)
- **المصادقة**: Supabase Auth
- **المخططات**: Chart.js
- **النشر**: Vercel/Netlify

## التشغيل المحلي

### المتطلبات

- متصفح ويب حديث
- خادم HTTP محلي (Python, Node.js, أو أي خادم آخر)

### خطوات التشغيل

1. **استنساخ المشروع**:
   ```bash
   git clone <repository-url>
   cd shik-w-shish-expenses
   ```

2. **إعداد متغيرات البيئة**:
   - انسخ `.env.example` إلى `.env`
   - أضف بيانات Supabase الخاصة بك:
   ```
   SUPABASE_URL=https://your-project.supabase.co
   SUPABASE_ANON_KEY=your-anon-key
   ```

3. **تشغيل الخادم المحلي**:
   ```bash
   # باستخدام Python
   python3 -m http.server 8000
   
   # أو باستخدام Node.js
   npx http-server
   ```

4. **فتح التطبيق**:
   افتح المتصفح وانتقل إلى `http://localhost:8000`

## النشر على الإنتاج

### النشر على Vercel

1. **ربط المشروع بـ Vercel**:
   ```bash
   npm i -g vercel
   vercel
   ```

2. **إعداد متغيرات البيئة**:
   - في لوحة تحكم Vercel، أضف:
     - `SUPABASE_URL`
     - `SUPABASE_ANON_KEY`

3. **النشر**:
   ```bash
   vercel --prod
   ```

### النشر على Netlify

1. **ربط المشروع بـ Netlify**:
   - ارفع المجلد إلى GitHub
   - اربط المستودع بـ Netlify

2. **إعداد متغيرات البيئة**:
   - في إعدادات الموقع، أضف متغيرات البيئة

3. **النشر التلقائي**:
   - سيتم النشر تلقائياً عند كل تحديث

## إعداد قاعدة البيانات

### تطبيق المخطط

1. **في لوحة تحكم Supabase**:
   - انتقل إلى SQL Editor
   - نفذ محتوى ملف `DB_SCHEMA.sql`

2. **التحقق من الجداول**:
   - `companies`: الشركات والموردين
   - `categories`: فئات المصروفات
   - `expenses`: المصروفات
   - `sales`: المبيعات

### إعداد CORS

في إعدادات Supabase، أضف النطاقات المسموحة:
- `http://localhost:8000` (للتطوير)
- `https://expenses.shik-w-shish.com` (للإنتاج)

## استخدام النظام

### تسجيل الدخول

1. استخدم بيانات الاعتماد المسجلة في Supabase
2. أو قم بإنشاء حساب جديد من خلال واجهة التطبيق

### إدارة المصروفات

1. **إضافة مصروف جديد**:
   - اختر التاريخ والمبلغ
   - حدد الشركة والفئة
   - أضف الملاحظات
   - اضغط "حفظ المصروف"

2. **تعديل المصروفات**:
   - انقر على المصروف في الجدول
   - عدل البيانات واضغط "حفظ"

### إدارة المبيعات

1. **إضافة مبيعة جديدة**:
   - أدخل التاريخ والمبلغ
   - اختر قناة البيع وطريقة الدفع
   - أضف رقم الطلب والملاحظات
   - اضغط "حفظ المبيعة"

### الاستيراد والتصدير

#### التصدير

1. **تصدير CSV**:
   - اضغط "تصدير CSV"
   - سيتم تحميل ملف يحتوي على جميع البيانات

2. **تصدير JSON**:
   - اضغط "تصدير JSON"
   - ملف JSON متوافق مع مخطط قاعدة البيانات

#### الاستيراد

1. **تحضير الملف**:
   - تأكد من توافق الملف مع المخطط
   - استخدم الملفات المصدرة كمرجع

2. **رفع الملف**:
   - اختر الملف من جهازك
   - سيتم التحقق من صحة البيانات تلقائياً
   - ستظهر رسائل الخطأ إن وجدت

## تكوين النطاق المخصص

### إعداد DNS

1. **في لوحة تحكم النطاق**:
   - أضف سجل CNAME يشير إلى خادم النشر
   - مثال: `expenses.shik-w-shish.com` → `your-app.vercel.app`

2. **في منصة النشر**:
   - أضف النطاق المخصص
   - تأكد من تفعيل SSL/HTTPS

### تحديث إعدادات Supabase

أضف النطاق الجديد إلى قائمة النطاقات المسموحة في إعدادات CORS.

## استكشاف الأخطاء

### مشاكل الاتصال بقاعدة البيانات

1. **تحقق من متغيرات البيئة**:
   - تأكد من صحة `SUPABASE_URL` و `SUPABASE_ANON_KEY`

2. **تحقق من إعدادات RLS**:
   - تأكد من تطبيق سياسات الأمان الصحيحة

### مشاكل الاستيراد

1. **تنسيق الملف**:
   - تأكد من توافق الملف مع المخطط المطلوب
   - تحقق من ترميز UTF-8

2. **البيانات المكررة**:
   - النظام يتجنب التكرارات تلقائياً
   - تحقق من رسائل التحذير

## الدعم والمساهمة

للحصول على الدعم أو المساهمة في تطوير المشروع، يرجى التواصل مع فريق التطوير.

## الترخيص

هذا المشروع مرخص تحت رخصة MIT. راجع ملف LICENSE للتفاصيل.

---

**تم التطوير بواسطة**: Manus AI  
**التاريخ**: أغسطس 2025  
**الإصدار**: 1.0.0

# sekh-shish
